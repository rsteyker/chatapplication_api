"use strict";var _require=require("sequelize"),ValidationError=_require.ValidationError,DatabaseError=_require.DatabaseError,ConnectionError=_require.ConnectionError,ConnectionRefusedError=_require.ConnectionRefusedError,ConnectionTimedOutError=_require.ConnectionTimedOutError,InvalidConnectionError=_require.InvalidConnectionError,logError=function(r,o,e,n){console.log(r),n(r)},ormHandleError=function(r,o,e,n){if(r instanceof ConnectionError||r instanceof ConnectionRefusedError||r instanceof ConnectionTimedOutError||r instanceof InvalidConnectionError)return e.status(409).json({error:"Database connection error",message:r.name});r instanceof ValidationError&&e.status(400).json({name:r.name,message:r.message,errors:r.errors}),r instanceof DatabaseError&&e.status(409).json({name:r.name,message:r.message,errors:r.errors}),n(r)},errorHandler=function(r,o,e){e.status(r.status||500).json({error:r.errorName,message:r.error})},notFoundErrorHandler=function(r,o){o.status(404).json({error:"Not Found",message:"El backend se encuentra trabajando, pronto tendremos esta ruta"})};module.exports={logError:logError,ormHandleError:ormHandleError,errorHandler:errorHandler,notFoundErrorHandler:notFoundErrorHandler};
//# sourceMappingURL=errors.middleware.min.js.map
